{% layout 'theme' %}

<section class="product-template" id="product">
  <div class="container grid product-layout">
    <div class="product-gallery">
      {% if product.images.size > 0 %}
        <div class="main-image">
          <img src="{{ product.featured_image | image_url: width: 800 }}" alt="{{ product.title }}">
        </div>
        <div class="thumbnail-row">
          {% for image in product.images %}
            <img src="{{ image | image_url: width: 120 }}" alt="{{ product.title }}" class="thumb">
          {% endfor %}
        </div>
      {% else %}
        <img src="{{ 'placeholder.png' | asset_url }}" alt="Placeholder product image">
      {% endif %}
    </div>

    <div class="product-details">
      <h1>{{ product.title }}</h1>
      {% if product.vendor %}
        <p class="vendor">{{ product.vendor }}</p>
      {% endif %}
      <div class="product-price">
        {{ product.price | money }}
      </div>

      <form method="post" action="/cart/add" id="AddToCartForm">
        <select name="id" id="ProductSelect">
          {% for variant in product.variants %}
            <option value="{{ variant.id }}">
              {{ variant.title }} â€” {{ variant.price | money }}
            </option>
          {% endfor %}
        </select>

        <button type="submit" name="add" id="AddToCart" class="btn-primary">
          Add to Cart
        </button>
      </form>

      {% if product.description != blank %}
        <div class="product-description rte">
          {{ product.description }}
        </div>
      {% endif %}
    </div>
  </div>
</section>

{% stylesheet %}
.product-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 60px;
  align-items: start;
}
.product-gallery {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}
.thumbnail-row {
  display: flex;
  gap: 8px;
}
.thumbnail-row img {
  border-radius: var(--radius);
  cursor: pointer;
  transition: opacity .2s ease;
}
.thumbnail-row img:hover {
  opacity: .8;
}
.product-details h1 {
  font-size: 2rem;
  margin-bottom: .5rem;
}
.product-price {
  font-size: 1.25rem;
  font-weight: 600;
  margin: 1rem 0;
}
.product-description {
  margin-top: 1.5rem;
  color: var(--color-text);
  font-size: 0.95rem;
  line-height: 1.6;
}
@media (max-width: 768px) {
  .product-layout {
    grid-template-columns: 1fr;
  }
}
{% endstylesheet %}
